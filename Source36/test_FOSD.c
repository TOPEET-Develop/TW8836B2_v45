/**
 * @file
 * Test_FOSD.c 
 * @author Brian Kang
 * @version 1.0
 * @section LICENSE
 *	Copyright (C) 2011~2012 Intersil Corporation
 * @section DESCRIPTION
 *	FontOSD Test routine
*/
/*
Disclaimer: THIS INFORMATION IS PROVIDED 'AS-IS' FOR EVALUATION PURPOSES ONLY.  
INTERSIL CORPORATION AND ITS SUBSIDIARIES ('INTERSIL') DISCLAIM ALL WARRANTIES, 
INCLUDING WITHOUT LIMITATION FITNESS FOR A PARTICULAR PURPOSE AND MERCHANTABILITY.  
Intersil provides evaluation platforms to help our customers to develop products. 
However, factors beyond Intersil's control could significantly affect Intersil 
product performance. 
It remains the customers' responsibility to verify the actual system performance.
*/
#include "config.h"
#include "reg.h"
#include "typedefs.h"
#include "TW8836.h"

#include "Global.h"


#ifdef TEST_FOSD

//description
//	test 512B OsdRam
//@param
//	fEnd: 0 - start from 0
//		  else - use the end area
void TestOsdRam(BYTE fEnd)
{...}

//description
//	if Panel is 800x480 and font is 12x16, 
//	the max coluum will be 66 = 800 / 12	
//  the max row will be 30 = 480 / 16
void TestDisplayRamWidth()
{}

void TestSampleString()
{ }


//description
//	the upper 256 char need a UP256, and Font Index on OsdRam has 9bit.
//void TestUpper256Char(BYTE columns, BYTE lines, BYET max, BYTE bpp2, BYTE bpp3, BYTE bpp4)
//{...}




//000 - ascii
//
//128 - 2BPP
//
//256 - 3bpp
//
//384 - 4bpp
//


void MultiBppFontSet()
{}

//description
//	Use diff LUT with same MultiBPP on diff FontOsdWin.
void MultiBppLut()
{}

#endif

//*****************************************************************************
//
//								test_FOSD.c
//
//*****************************************************************************
//
//
#include "config.h"
#include "typedefs.h"
#include "reg.h"
#include "printf.h"
#include "Util.h"
#include "I2C.h"
#include "CPU.h"
#include "TW8836.h"
#include "SOsd.h"
#include "FOsd.h"

#include "spi.h"
#include "SpiFlashMap.h"
#include "SOsdMenu.h"



#if 0
void FontOsdWinPuts2(struct menu_item_info_s *item_info, BYTE *str)
{...}
#endif

struct fosd_menu_item_s temp_fosd_menu_item;

//description
//	draw 16x16 table with different foreground/background color.
void DumpFontOsdPalette(void)
{
//	WORD OsdRamAddr;	
	struct fosd_menu_item_s *fosd;
	BYTE i,j;

	fosd = &temp_fosd_menu_item;
	fosd->win = 0;
	//init DE
	FOsdSetDeValue();

	//disable all FontOsd/SpiOsd Windows
	InitFontRamByNum(FONT_NUM_DEF12X18, 0);	//InitFontRam(0, &default_font,"def");
	//FOsdInitBpp3AlphaTable();
	for(i=0; i < 4; i++) {
		FOsdWinInit(i);
		FOsdWinSetOsdRamStartAddr(i, 0);
	}

	WaitVBlank(1);
	FOsdWinEnable(fosd->win,OFF);	// disable


	FOsdWinScreenXY(fosd->win, 0x10,0x0D);		//sx,sy, n_char, fosd->h);
	FOsdWinScreenWH(fosd->win, 0x20, 0x10);		//sx,sy, n_char, fosd->h);
 	FOsdWinZoom(fosd->win, 1, 0);					//fosd->zoom>>4, fosd->zoom & 0x0F);
//	FOsdWinAlphaPixel(fosd->win, fosd->alpha_color_index,fosd->alpha_value);

	//--- Write Display RAM
	//DO NOT USE. TW8835FPGA have a BUG. it will reset the SpiOsd.
	//If the length of string is big(more then 8byte), we have to check HSync.
	//WriteTW88(REG300, 0x03 ); // bypass OSD/Font RAM

	//OsdRam Address
	//OsdRamAddr = 0;  //fosd->ram;	// Addr. 00, 0x40, 0x80, 0xC0
	//OsdRamAddr <<= 1;				//make a word size.

	// set address & write the default attribute
	WriteTW88(REG304, 0x0c ); // Auto Inc. use under 256 char index

	for(i=0; i < 0x10; i++) {
		for(j=0; j < 0x10; j++) {
			FOsdRamSetAddrAttr((i*16+j) << 1, (i << 4) | j);  //Note:WORD size(BG|FG).

			if(i >= 10) WriteTW88(REG307, 0x41+i-10);	//draw A to F
			else 		WriteTW88(REG307, 0x30+i);	//draw 0 to 9

			if(j >= 10) WriteTW88(REG307, 0x41+j-10);	//draw A to F
			else 		WriteTW88(REG307, 0x30+j);	//draw 0 to 9
		}
	}


	//=================================
	WriteTW88(REG304, 0x0c );			// Display RAM Access Mode

	FOsdWinEnable(fosd->win,ON);	//win0 enable
}

//description
//	the max font size is a 16x32.
//	If we use 16x32x1x160, it will use whole FontRam size, 10240 Byte.
//	110118. R350[6:0] is for char height and the value*2 is a char height.
void Test16x32FontSet(void)
{
//	WORD OsdRamAddr;	
	struct fosd_menu_item_s *fosd;
	BYTE i,j;
//	BYTE value;
	WORD index;

	BYTE fgColor = 15;
	BYTE bgColor = 1;
	BYTE columns = 16;
	BYTE lines = 10;
	BYTE max = 160;

	fosd = &temp_fosd_menu_item;
	fosd->win = 0;
	//init DE
	FOsdSetDeValue();

	FOsdWinInit(fosd->win);

	WaitVBlank(1);
	FOsdWinEnable(fosd->win,OFF);	// disable

//remove BK120209
//	InitFontRam(0, &test16x32xA0_A0_A0_A0,"test");
	//FOsdInitBpp3AlphaTable();

	FOsdWinSetOsdRamStartAddr(fosd->win, 0);
	FOsdWinAlphaPixel(fosd->win,bgColor,4);		//bgcolor 1 alpha 0

	FOsdWinScreenXY(fosd->win, 0,0);		//0x20, 0x10);		//max 512 = 32x16
	FOsdWinScreenWH(fosd->win, columns, lines);		//0x20, 0x10);		//max 512 = 32x16
 	FOsdWinZoom(fosd->win, 1, 0);						//fosd->zoom>>4, fosd->zoom & 0x0F);

	//set OsdRam.
	WriteTW88(REG304, 0x0c ); // Auto Inc.

	FOsdRamSetAddrAttr(0, (bgColor << 4) | fgColor);
	 
	for(i=0; i < lines; i++) {
		for(j=0; j < columns; j++) {
			index = i*columns+j;

			if(index >= max) break;

			if(index >= 256)
				WriteTW88(REG304, ReadTW88(REG304) | 0x20);	 
			WriteTW88(REG307, (BYTE)index);
		}
	}
	
	WriteTW88(REG304, ReadTW88(REG304) & 0xDF);		//default: lower 256 char.		
	WriteTW88(REG304, ReadTW88(REG304) & 0xFE);		//OsdRam access mode
	
	FOsdWinEnable(fosd->win,ON);	//win0 enable			
}

//description
//	test upper 256 char
//	download the default font, 12x18x1x160 on address 0 and on address 0xa0 to 0x13F.
//	and dump FontRam on 16x20 OsdRam memory
//  it will include the 0x100~0x13F indexed font.
void TestUpper256Char(void)
{
//	WORD OsdRamAddr;	
	struct fosd_menu_item_s *fosd;
	BYTE i,j;
//	BYTE value;
	WORD index;

	BYTE fgColor = 15;
	BYTE bgColor = 1;
	BYTE columns = 16;
	BYTE lines = 20;
	WORD max = 320;
//	BYTE start_offset = 0xA0;
	BYTE start_offset = 0x00;

	fosd = &temp_fosd_menu_item;
	fosd->win = 0;
	//init DE
	FOsdSetDeValue();

	FOsdWinInit(fosd->win);

	WaitVBlank(1);
	FOsdWinEnable(fosd->win,OFF);	// disable

	InitFontRamByNum(FONT_NUM_DEF12X18, 0);	//InitFontRam(0, &default_font,"def");
    //DownloadExtFont(0xA0, default_font.loc, default_font.size, 320,320,320);	//now, we have 160+160 fonts.
	//InitFontRam(0xA0, &default_font,"def");
	//FOsdInitBpp3AlphaTable();
	//FOsdInitBpp3AlphaTable();
	//FOsdWinAlphaPixel(winno,1,0);		//bgcolor 1 alpha 0
#ifdef SUPPORT_UDFONT
FOsdDownloadUDFontBySerial();
#endif

	FOsdWinAlphaPixel(fosd->win,bgColor,4);		//bgcolor 1 alpha 0

	FOsdWinScreenXY(fosd->win, 0,0);		//0x20, 0x10);		//max 512 = 32x16
	FOsdWinScreenWH(fosd->win, columns, lines);		//0x20, 0x10);		//max 512 = 32x16
 	FOsdWinZoom(fosd->win, 1, 0);						//fosd->zoom>>4, fosd->zoom & 0x0F);

	//set OsdRam.
	WriteTW88(REG304, 0x0c ); // Auto Inc.

	FOsdRamSetAddrAttr(0, (bgColor << 4) | fgColor);

	for(i=0; i < 0x10 /*lines */; i++) {
		for(j=0; j < columns; j++) {
			index = i*columns+j;

			WriteTW88(REG307, (BYTE)index);
		}
	}
	//RTL BUG: If auto inc from 0 to 0xFF, 0xFE and 0xFF position not working.
	//WaitVBlank(1);
	bgColor=4;	//red
	WriteTW88(REG304, 0x0c ); // Auto Inc.
	FOsdRamSetAddrAttr(0xFD, (bgColor << 4) | fgColor);

	//BKFYI. RTL had problem on 0xFE and 0xFF index. Now it is fixed.
	//		 If use other index, it was OK.
	WriteTW88(REG307, 0xFD);
	WriteTW88(REG307, 0xFE);
	WriteTW88(REG307, 0xFF);

	bgColor=2;	//lime

	//working 
	WriteTW88(REG304, ReadTW88(REG304) | 0x20);	//set UP256 before update attr.

	FOsdRamSetAddrAttr(0x100, (bgColor << 4) | fgColor);
	for(i=0x10; i < lines; i++) {
		for(j=0; j < columns; j++) {
			index = i*columns+j + start_offset;

			//if(index >= (max+start_offset)) break;
			if(index >= max)
				break;
			//if(index >= 256)
			//	WriteTW88(REG304, ReadTW88(REG304) | 0x20);	 
			WriteTW88(REG307, (BYTE)index);
		}
	}


	
	WriteTW88(REG304, ReadTW88(REG304) & 0xDF);		//default: lower 256 char.		
	WriteTW88(REG304, ReadTW88(REG304) & 0xFE);		//OsdRam access mode
	
	FOsdWinEnable(fosd->win,ON);	//win0 enable}
}

//description
//	the max font size is a 16x32.
//	If we use 16x32x1x160, it will use whole FontRam size, 10240 Byte.
//	110118. R350[6:0] is for char height and the value*2 is a char height.
code WORD test_16161616[16] = {
0xFFFF,0xF800,0x8410,0x001F,0xC618,0x07E0,0x0000,0x0010,0xFFE0,0x0410,0x07FF,0x8010,0x8400,0x0400,0x8000,0xF81F
};
void TestMultiBPP4(void)
{
//	WORD OsdRamAddr;	
	struct fosd_menu_item_s *fosd;
	BYTE i,j;
//	BYTE value;
	WORD index;

	BYTE fgColor = 15;
	BYTE bgColor = 1;
	BYTE columns = 16;
//	BYTE lines = 10;
	BYTE lines = 4;
	BYTE max = 160;

	fosd = &temp_fosd_menu_item;
	fosd->win = 0;
	//init DE
	FOsdSetDeValue();

	FOsdWinInit(fosd->win);

	WaitVBlank(1);
	FOsdWinEnable(fosd->win,OFF);	// disable

//remove BK120209
//	InitFontRam(0, &test16x32xA0_20_20_20,"test");
	//FOsdInitBpp3AlphaTable();


	FOsdWinScreenXY(fosd->win, 0,0);		//0x20, 0x10);		//max 512 = 32x16
	FOsdWinScreenWH(fosd->win, columns, lines);		//0x20, 0x10);		//max 512 = 32x16
 	FOsdWinZoom(fosd->win, 1, 0);						//fosd->zoom>>4, fosd->zoom & 0x0F);
	FOsdWinAlphaPixel(fosd->win,bgColor,4);					//bgcolor 1 alpha 0

	//set OsdRam.

	WriteTW88(REG304, 0x0c ); // Auto Inc.

	//---------------
	// 1BPP
	FOsdRamSetAddrAttr(0, (bgColor << 4) | fgColor);
	for(i=0; i < 2; i++) {
		for(j=0; j < columns; j++) {
			index = i*columns+j;

			WriteTW88(REG307, (BYTE)index);
		}
	}
	//---------------
	// 4BPP
	//I have to update LUT value
	FOsdSetPaletteColorArray(32, test_16161616, 16, 0);					//BUG_BANK

	FOsdRamSetAddrAttr(0x20, 32 >> 2);	  // fgColor is used for LUT offset. I will use 32th
	//--------------------
	// assign the start loc of 4BPP char index.
	//--------------------
	for(i=0; i < 2; i++) {
		for(j=0; j < columns; j++) {
			index = i*columns+j;
			index *= 4;
			index += 0x20;
			WriteTW88(REG307, (BYTE)index);
		}
	}
	
	WriteTW88(REG304, ReadTW88(REG304) & 0xDF);		//default: lower 256 char.		
	WriteTW88(REG304, ReadTW88(REG304) & 0xFE);		//OsdRam access mode
	
	FOsdWinEnable(fosd->win,ON);	//win0 enable

	WriteTW88(REG310, ReadTW88(REG310) | 0x40 ); // temp - enable MultiBPP on Win1
				
}

//code FONT_SPI_INFO_t consolas16x26_606C90_test 	= { 0x402000, 0x2080, 16, 26, 0x060, 0x06C, 0x090, 0x0A0 };
/* <NUMBER OF FONTS>=0xA0(160. MAX) */
/* <FONT WIDTH>=16 */
/* <FONT HEIGHT>=26 */
/* <2bit COLOR START>=0x060 */
/* <3bit COLOR START>=0x06C */
/*       Digit = 0x6C       */
/* <4bit COLOR START>=0x090 */
/*       Penguin = 0x98     */

code WORD consolas16x26_606C90_2BPP_test[4] = {
	0xF7DE,0x0000,0x5AAB,0xC000
}; 

code WORD consolas16x26_606C90_3BPP[8] = {
	0xFFFF,0x0000,0xDEDB,0x9492,0x6B6D,0xB5B6,0x4A49,0x2124
}; 
code WORD consolas16x26_606C90_4BPP[16] = {
	0xD6BA,0x20E3,0xF79E,0x62E8,0xE104,0xA944,0x39A6,0x7BAC,
	0x51A6,0xC617,0x9CD1,0xB5B5,0x9BC9,0xDD85,0xF643,0xAC87
};

//BANK issue
void FontOsdSetPaletteColorArray_TEST(BYTE index, WORD *array, BYTE size)
{
	BYTE i;
	BYTE r30c;

	r30c = ReadTW88(REG30C) & 0xC0;
	//dPrintf("\n\rFontOsdSetPaletteColorArray index:%bd",index);
	for(i=0; i < size; i++) {
		WriteTW88(REG30C, (index+i) | r30c); //index 2 is for normal foreground	   Now 6bit.(64).
		WriteTW88(REG30D, (BYTE)(array[i] >> 8));
		WriteTW88(REG30E, (BYTE)array[i]);
		//dPrintf(" 0x%02bx%02bx(%04x)",(BYTE)(array[i] >> 8),(BYTE)array[i],array[i]);
	}
}


#ifdef UNCALLED_SEGMENT_CODE
void TestNum1BPP3BPP_OLD(void)
{...}
#endif

//void TestNumAlpha(void)
//palette map
//
//   64
//	+-------------
//	|60
//	|56
//	|52
//	|48		4BPP  original 16 palette
//	+-------------
//	|44
//	|40		unused area
//	+-------------
//	|36
//	|32		3BPP   original 8 palette
// 	+-------------
//	|28
//	|24		3BPP Lime with Alpha
// 	+-------------
//	|20
//	|16		3BPP Black with Alpha
// 	+-------------
//	|1BPP Area.
//	|15		White
//	|14		Yellow					
//	|13		Magenta					
//	|12		Red					
//	|11		Cyan					
//	|10		Lime					
//	|9		Blue					
//	|8		Silver					
//	|7		Gray					
//	|6		DK Yellow					
//	|5		DK Magenta							
//	|4		DK Red							
//	|3		DK Cyan							
//	|2		Green							
//	|1		DK Blue
//	|0		Black
// 	+-------------
//	OsdRam
//	0..9	0..9  with 3BPP
//	4..5	penguin	with 4BPP
//	10..19
//	20..29	0x10..0x19
//	|25..29		1BPP	(9 << 4 | 10)	bg:LTBlue fg:Lime
//	|20..24		1BPP	(15<<4|0)		bg:white fg:black 
//	30..39	0..9 with 3BPP. Black with Alpha
//  40..49  0..9 with 3BPP. Lime with Alpha
//
void TestNum1BPP3BPP(void)
{
	struct fosd_menu_item_s *fosd;
	BYTE i; //,j,k;
	BYTE palette;
	BYTE fgColor = 15; //color is reversed on consolas16x26_606C90
	BYTE bgColor = 0;
	BYTE columns = 10;
	BYTE lines = 5;

    //select window
	fosd = &temp_fosd_menu_item;
	fosd->win = 0;

	//init DE
	FOsdSetDeValue();
	//assign default
	FOsdWinInit(fosd->win);

	WaitVBlank(1);
	FOsdWinEnable(fosd->win,OFF);	// disable

	//download FontSet
	InitFontRamByNum(FONT_NUM_CONGRAY16X28, 0);	//InitFontRam_consolas(0);

	FOsdInitBpp3AlphaTable(1);

	FOsdWinScreenXY(fosd->win, 50,60);		//0x20, 0x10);		//max 512 = 32x16
 	FOsdWinScreenWH(fosd->win, columns, lines);		//0x20, 0x10);		//max 512 = 32x16
	FOsdWinZoom(fosd->win, 3, 2);						//fosd->zoom>>4, fosd->zoom & 0x0F);
	//FOsdWinAlphaPixel(fosd->win,15 /*AlphaColor*/ ,8);				//bgcolor 1 alpha 0

	//set OsdRam.

	WriteTW88(REG304, 0x0c ); // Auto Inc.

#if 0
	//first line - 1BPP+4BPP
	FOsdRamSetAddrAttr(0, (bgColor << 4) | fgColor);
	for(i=0; i < 10; i++) {
		WriteTW88(REG307, i+0x10);
	}
	palette = 48;
	FOsdSetPaletteColorArray(palette, consolas16x26_606C90_4BPP, 16, 0);	//BUG_BANK
	FOsdRamSetAddrAttr(4, palette >> 2);  //overwrite
	WriteTW88(REG307, 0x7E);
	WriteTW88(REG307, 0x82); 

	//second line - 3BPP with original BGR palette.
	palette = 32;
	FOsdSetPaletteColorArray(palette, consolas16x26_606C90_3BPP, 8, 0);	//BUG_BANK
	//FOsdWinAlphaPixel(fosd->win, palette+0,8); //NOTE:LUT32 do not support Alpha.
	FOsdRamSetAddrAttr(10, palette >> 2);
	for(i=0; i < 10; i++) {
			WriteTW88(REG307, i*3+BPP3DIGIT_START);
	}
#endif

	//first line - 3BPP with original BGR palette. with 4BPP.
	palette = 32;
	FontOsdSetPaletteColorArray_TEST(palette, consolas16x26_606C90_3BPP, 8);
	//FOsdWinAlphaPixel(fosd->win, palette+0,8); //NOTE:LUT32 do not support Alpha.
	FOsdRamSetAddrAttr(0, palette >> 2);
	for(i=0; i < 10; i++) {
			WriteTW88(REG307, i*3+BPP3DIGIT_START);
	}
	palette = 48;
	FontOsdSetPaletteColorArray_TEST(palette, consolas16x26_606C90_4BPP, 16);
	FOsdRamSetAddrAttr(4, palette >> 2);  //overwrite
	WriteTW88(REG307, BPP4PENGUIN_START);
	WriteTW88(REG307, BPP4PENGUIN_START+4); 

#if 0
	//second line - 3BPP with original BGR palette & background alpha.
	palette = 0;
	//FontOsdSetPaletteColorArray(palette, consolas16x26_606C90_3BPP, 8);
	FOsdSetPaletteColor(palette+0, 0xFFFF,1, 0);
	FOsdSetPaletteColor(palette+1, 0x0000,1, 0);
	FOsdSetPaletteColor(palette+2, 0x8410,1, 0); //or 0xC618(silver)
	FOsdSetPaletteColor(palette+3, 0x8410,1, 0);
	FOsdSetPaletteColor(palette+4, 0x8410,1, 0);
	FOsdSetPaletteColor(palette+5, 0x8410,1, 0);
	FOsdSetPaletteColor(palette+6, 0x8410,1, 0);
	FOsdSetPaletteColor(palette+7, 0x0000,1, 0);
	FOsdWinAlphaPixel(fosd->win, palette+0,8); //NOTE:LUT32 do not support Alpha.
	FOsdRamSetAddrAttr(10, palette >> 2);
	for(i=0; i < 10; i++) {
			WriteTW88(REG307, i*3+BPP3DIGIT_START);
	}
#endif
	//Third Line
	//01234(1BPP white|black) 56789(1BPP LTBlue|Lime)
	//1BPP
	FOsdRamSetAddrAttr(20, 15 << 4 | 0);	  //bg:white fg:black
	for(i=0; i < 5; i++) {
			WriteTW88(REG307, i+0x10);
	}
	FOsdRamSetAddrAttr(25, 9 << 4 | 10);	  //bg:LTBlue fg:Lime
	for(i=0; i < 5; i++) {
			WriteTW88(REG307, i+0x10+5);
	}
	//forth line - 3BPP with Black & alpha.
	palette = FOSD_LUT_MAP_BPP3_START;
	FOsdWinSetBpp3Alpha(fosd->win,palette);	//use BPP3_alpha_lut_offset[].
	FOsdSetPaletteColor(palette, FOSD_COLOR_VALUE_BLACK, 8, 0);	//all black		
	FOsdRamSetAddrAttr(30, palette >> 2);		//multi-bpp
	for(i=0; i < 10; i++) {
			WriteTW88(REG307, i*3+BPP3DIGIT_START);
	}
	//fifth line - 3BPP with Lime & alpha.
	palette = FOSD_LUT_MAP_BPP3_ALPHA_G_START;
	FOsdWinSetBpp3Alpha(fosd->win,palette);	//use BPP3_alpha_lut_offset[].
	FOsdSetPaletteColor(palette, FOSD_COLOR_VALUE_LIME, 8, 0);		
	FOsdRamSetAddrAttr(40, palette >> 2);		//multi-bpp
	for(i=0; i < 10; i++) {
			WriteTW88(REG307, i*3+BPP3DIGIT_START);
	}

	//post fix
	WriteTW88(REG304, ReadTW88(REG304) & 0xDF);		//default: lower 256 char.		
	WriteTW88(REG304, ReadTW88(REG304) & 0xFE);		//OsdRam access mode
	
	FOsdWinEnable(fosd->win,ON);	//win0 enable

	WriteTW88(REG310, ReadTW88(REG310) | 0x40 ); // temp - enable MultiBPP on Win1
}

//draw default HW LUT & SW LUT
//test method
//	Boot with NoInit mode
//	type	init core
//			ee find
//			init
//			fosd test1  <-- low 8 is a HW
//	Boot with NoInit mode
//	type	init core
//			ee find
//			init
//			fosd test2	<-- high 8 is a HW
void FOsdTest_1(BYTE mode)
{
	BYTE WIN0_OSDRAM = 0;
	BYTE WIN1_OSDRAM = 0x10;
	BYTE WIN2_OSDRAM = 0x20;
	BYTE i;

	//
	WORD temp_FOsdDefPaletteBpp1[16] = {
	/*0:Black*/			FOSD_COLOR_VALUE_BLACK,
	/*1:DarkBlue*/		FOSD_COLOR_VALUE_DBLUE,
	/*2:Green*/			FOSD_COLOR_VALUE_GREEN,
	/*3:DarkCyan*/		FOSD_COLOR_VALUE_DCYAN,
	/*4:DarkRed*/		FOSD_COLOR_VALUE_DRED,
	/*5:DarkMagenta*/	FOSD_COLOR_VALUE_DMAGENTA,
	/*6:DarkYellow*/	FOSD_COLOR_VALUE_DYELLOW,
	/*7:Gray*/			FOSD_COLOR_VALUE_GRAY,

	/*8:Silver*/		FOSD_COLOR_VALUE_SILVER,
	/*9:Blue*/			FOSD_COLOR_VALUE_BLUE,
	/*A:Lime*/			FOSD_COLOR_VALUE_LIME,
	/*B:Cyan*/			FOSD_COLOR_VALUE_CYAN,
	/*V:Red*/			FOSD_COLOR_VALUE_RED,
	/*D:Magenta*/		FOSD_COLOR_VALUE_MAGENTA,
	/*E:Yellow*/		FOSD_COLOR_VALUE_YELLOW,
	/*F:White*/			FOSD_COLOR_VALUE_WHITE 
	};

	InitFontRamByNum(FONT_NUM_DEF12X18, 0);	//InitFontRam(0, &default_font,"def");


	FOsdRamSetFifo(ON, 0);	//FontOsdSetOsdRamFifo(OFF);						//default

	//set OsdRam data&attr
	//FontOsdSetAutoIncMode(FOSD_AUTOINC_NORMAL);
	WriteTW88(REG304, 0x00);
	WriteTW88(REG305, 0x00);
	for(i=0; i < 8; i++) {
		WriteTW88(REG306, WIN0_OSDRAM+i);
		WriteTW88(REG307, FOSD_ASCII_BLANK);
		WriteTW88(REG306, WIN0_OSDRAM+i);
		WriteTW88(REG308, i << 4 );			//change BG color. LOW 8
		//if(i==7)
		//	delay1ms(1);
	}
	for(i=0; i < 8; i++) {
		WriteTW88(REG306, WIN1_OSDRAM+i);
		WriteTW88(REG307, FOSD_ASCII_BLANK);
		WriteTW88(REG306, WIN1_OSDRAM+i);
		WriteTW88(REG308, (i << 4) + 0x80);	//change BG color. High 8
		//if(i==7)
		//	delay1ms(1);
	}
	for(i=0; i < 16; i++) {
		WriteTW88(REG306, WIN2_OSDRAM+i);
		WriteTW88(REG307, FOSD_ASCII_BLANK);
		WriteTW88(REG306, WIN2_OSDRAM+i);
		WriteTW88(REG308, (i << 4) );			//change BG color.
		if(i==7)
			delay1ms(1);
	}

	//test palette from 16 to 31
	if(mode==0) {
		for(i=8;i<16;i++) 
			FOsdSetPaletteColor(i, temp_FOsdDefPaletteBpp1[i-8],1, 0);
	}
	else {
		for(i=0;i<8;i++) 
			FOsdSetPaletteColor(i, temp_FOsdDefPaletteBpp1[i+8],1, 0);
	}

	//enable
	FOsdWinScreenXY(FOSD_WIN0,80,0);
	FOsdWinScreenWH(FOSD_WIN0,8,1);
	FOsdWinZoom(FOSD_WIN0, 2, 1);
	FOsdWinSetOsdRamStartAddr(FOSD_WIN0,WIN0_OSDRAM);
	FOsdWinEnable(FOSD_WIN0,ON);	

	FOsdWinScreenXY(FOSD_WIN1,80,37);
	FOsdWinScreenWH(FOSD_WIN1,8,1);
	FOsdWinZoom(FOSD_WIN1, 2, 1);
	FOsdWinSetOsdRamStartAddr(FOSD_WIN1,WIN1_OSDRAM);
	FOsdWinEnable(FOSD_WIN1,ON);

	FOsdWinScreenXY(FOSD_WIN2,80,37*2);
	FOsdWinScreenWH(FOSD_WIN2,16,1);
	FOsdWinZoom(FOSD_WIN2, 2, 1);
	FOsdWinSetOsdRamStartAddr(FOSD_WIN2,WIN2_OSDRAM);
	FOsdWinEnable(FOSD_WIN2,ON);

	FOsdOnOff(ON, 0);	//with vdelay 0	
}
//void FOsdTest_3(void)
//{
//}

//test I2C index Auto increase off with FontRAM
//code BYTE FOsdTest_5_data[] = 
//{
//    /*0x19( 25)*/ 0xF0,0xF0,0xE0,0x00,0x70,0x66,0x00,0x53,0x66,0x1F,0x00,0x66,0x11,0x00,0x66,0xF1,0x00,0x66,0x00,0x35,0x66,0x00,0x07,0x66,0x0F,0x0F,0x0E,
//};

code unsigned char FOsdTest_5_data_88h_27[] = {
    /*0x00(  0)*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x66,0x00,0x00,0x24,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x01(  1)*/ 0x00,0x00,0x00,0x00,0x60,0x00,0x00,0x06,0x00,0x00,0x60,0x00,0x00,0xF6,0x00,0x00,0xFF,0x00,0x00,0xFF,0x00,0x00,0x06,0x00,0x00,0x00,0x00,
    /*0x02(  2)*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x66,0x00,0x00,0x46,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x03(  3)*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x04(  4)*/ 0x00,0xF0,0x00,0x21,0x60,0x48,0x44,0x89,0x22,0x44,0x98,0x22,0x12,0x06,0x84,0x00,0x0F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x05(  5)*/ 0x30,0xA0,0x20,0x34,0x23,0xA6,0x70,0x2A,0x22,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x06(  6)*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF6,0x00,0x00,0x6F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x07(  7)*/ 0x00,0x00,0x00,0x00,0xF0,0x00,0x31,0x9F,0xC8,0x33,0x00,0x0C,0x33,0x00,0x00,0x33,0x00,0xC0,0x13,0xF9,0x8C,0x00,0x2F,0x00,0x00,0x61,0x00,
    /*0x08(  8)*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x60,0x10,0x9C,0x8C,0x63,0x63,0x00,0x36,0x36,0x00,0x01,0xC9,0xC8,0x00,0x06,0x06,0x00,0x00,0x00,
    /*0x09(  9)*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x60,0x00,0x13,0x93,0x80,0x00,0x6C,0x6C,0x00,0xC6,0xC6,0x31,0x39,0x08,0x06,0x06,0x00,0x00,0x00,0x00,
    /*0x0A( 10)*/ 0x00,0x00,0x00,0x00,0x63,0x00,0x00,0x44,0x00,0x00,0xC4,0x00,0x11,0x88,0x00,0x00,0x4C,0x00,0x00,0x44,0x00,0x00,0x36,0x00,0x00,0x00,0x00,
    /*0x0B( 11)*/ 0x00,0x00,0x00,0x00,0x6C,0x00,0x00,0x22,0x00,0x00,0x32,0x00,0x00,0x11,0x88,0x00,0x23,0x00,0x00,0x22,0x00,0x00,0xC6,0x00,0x00,0x00,0x00,
    /*0x0C( 12)*/ 0x00,0x00,0x00,0x00,0x60,0x00,0x10,0x9F,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x0D( 13)*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x77,0xFF,0xEE,0x00,0x00,0x00,
    /*0x0E( 14)*/ 0x00,0x00,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x00,0x00,
    /*0x0F( 15)*/ 0x00,0x00,0x00,0x10,0x9F,0x80,0x11,0x99,0x88,0x11,0xFF,0x00,0x11,0x99,0x88,0x11,0x99,0x88,0x11,0x8F,0x00,0x03,0x08,0x00,0x00,0x00,0x00,
    /*0x10( 16)*/ 0x00,0x00,0x00,0x33,0xF0,0xCC,0x11,0x09,0x88,0x11,0x90,0x88,0x33,0x0F,0xCC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x11( 17)*/ 0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,
    /*0x12( 18)*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0x00,0x31,0x9F,0xC8,0x33,0x63,0xCC,0x33,0x9C,0xCC,0x01,0xFF,0x08,0x00,0x00,0x00,
    /*0x13( 19)*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x77,0xFF,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,
    /*0x14( 20)*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xEE,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,
    /*0x15( 21)*/ 0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x77,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x16( 22)*/ 0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0xFF,0xEE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x17( 23)*/ 0x00,0x00,0x00,0x77,0xFF,0xEE,0x77,0xFF,0xEE,0x77,0xFF,0xEE,0x77,0xFF,0xEE,0x77,0xFF,0xEE,0x77,0xFF,0xEE,0x77,0xFF,0xEE,0x00,0x00,0x00,
    /*0x18( 24)*/ 0x70,0xF0,0xF0,0x66,0xE0,0x00,0x66,0xAC,0x00,0x66,0x00,0x8F,0x66,0x00,0x88,0x66,0x00,0xF8,0x66,0xCA,0x00,0x66,0x0E,0x00,0x07,0x0F,0x0F,
    /*0x19( 25)*/ 0xF0,0xF0,0xE0,0x00,0x70,0x66,0x00,0x53,0x66,0x1F,0x00,0x66,0x11,0x00,0x66,0xF1,0x00,0x66,0x00,0x35,0x66,0x00,0x07,0x66,0x0F,0x0F,0x0E,
    /*0x1A( 26)*/ 0x30,0xF0,0xF0,0x66,0x00,0x00,0x66,0x10,0xF0,0x66,0x11,0x70,0x66,0x11,0x70,0x66,0x11,0xF0,0x66,0x00,0x00,0x66,0x00,0x00,0x03,0x0F,0x0F,
    /*0x1B( 27)*/ 0xF0,0xF0,0xC0,0x00,0x00,0x66,0xF0,0x80,0x66,0xE0,0x88,0x66,0xE0,0x88,0x66,0xF0,0x88,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x0F,0x0F,0x0C,
    /*0x1C( 28)*/ 0x30,0xF0,0xF0,0x66,0xF0,0xD1,0x66,0xF0,0xD1,0x76,0xF0,0xF1,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x03,0x0F,0x0F,
    /*0x1D( 29)*/ 0xF0,0xF0,0xC0,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x0F,0x0F,0x0C,
    /*0x1E( 30)*/ 0x30,0xF0,0xF0,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x67,0x0F,0x1F,0x66,0x0F,0x1D,0x66,0x0F,0x1D,0x03,0x0F,0x0F,
    /*0x1F( 31)*/ 0x30,0xF0,0xF0,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x03,0x0F,0x0F,
    /*0x20( 32)*/ 0xF0,0xF0,0xC0,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x8F,0x0F,0x6E,0x8B,0x0F,0x66,0x8B,0x0F,0x66,0x0F,0x0F,0x0C,
    /*0x21( 33)*/ 0xF0,0xF0,0xC0,0xB8,0xF0,0x66,0xB8,0xF0,0x66,0xF8,0xF0,0xE6,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x0F,0x0F,0x0C,
    /*0x22( 34)*/ 0x00,0x00,0x00,0x07,0x6E,0x66,0x00,0x66,0x76,0x10,0x8C,0x66,0x07,0x00,0x66,0x00,0x00,0x00,0x33,0x00,0x00,0x33,0xF0,0xE0,0x00,0x00,0x00,
    /*0x23( 35)*/ 0x00,0x00,0x00,0x03,0x0F,0x6E,0x00,0x00,0x66,0x00,0x00,0x06,0x07,0x6F,0x0F,0x30,0xF6,0xE0,0x00,0x00,0x66,0x00,0x00,0x46,0x00,0x00,0x00,
    /*0x24( 36)*/ 0x00,0x00,0x00,0x70,0xE0,0x66,0x00,0x66,0x66,0x00,0x46,0x66,0x00,0x8C,0x66,0x31,0x08,0x66,0x06,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x00,
    /*0x25( 37)*/ 0x00,0x00,0x00,0x03,0x0F,0xCC,0x00,0x00,0xCC,0x00,0x00,0x0C,0x17,0x9F,0x8E,0x11,0x99,0x88,0x31,0x09,0x08,0x33,0xF0,0xC0,0x00,0x00,0x00,
    /*0x26( 38)*/ 0x00,0x00,0x00,0x07,0x6E,0x66,0x00,0x46,0x76,0x10,0x8C,0x66,0x07,0x00,0x66,0x30,0xF0,0xE0,0x33,0x00,0x66,0x33,0xF0,0xE6,0x00,0x00,0x00,
    /*0x27( 39)*/ 0x00,0x00,0x00,0x07,0xCF,0x66,0x00,0xCC,0x66,0x31,0x3E,0x66,0x46,0x01,0xEE,0x30,0xF0,0xE0,0x33,0x00,0x66,0x33,0xF0,0xE6,0x00,0x00,0x00,
    /*0x28( 40)*/ 0x00,0x00,0x00,0x07,0x6E,0x66,0x00,0xC6,0x6E,0x10,0x8C,0x6E,0x07,0x00,0x06,0x00,0x63,0xC8,0x00,0xCC,0x66,0x00,0x36,0x8C,0x00,0x00,0x00,
    /*0x29( 41)*/ 0x00,0x00,0x00,0x03,0x0F,0xCC,0x00,0x00,0xCC,0x00,0x00,0xCC,0x00,0xC0,0xCC,0x00,0xCC,0x00,0x70,0xFC,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x2A( 42)*/ 0x00,0x00,0x00,0x30,0x00,0x66,0x33,0x00,0x66,0x33,0x00,0x76,0x33,0x00,0x66,0x03,0x0F,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x00,
    /*0x2B( 43)*/ 0x00,0x00,0x00,0x11,0x88,0x00,0x11,0x88,0x00,0x01,0x0F,0x0C,0x70,0xF6,0xE0,0x10,0xF0,0xC0,0x00,0x00,0xCC,0x00,0x00,0x8C,0x00,0x00,0x00,
    /*0x2C( 44)*/ 0x00,0x00,0x00,0x33,0x00,0x00,0x33,0x00,0x00,0x03,0x0F,0x0C,0xF0,0xF6,0xE0,0x10,0xF0,0x80,0x33,0x00,0xCC,0x13,0xF0,0x8C,0x00,0x00,0x00,
    /*0x2D( 45)*/ 0x00,0x00,0x00,0x66,0x00,0x66,0x66,0x01,0x6E,0x76,0xF0,0x66,0x30,0xF0,0xE0,0x30,0xF0,0xE6,0x33,0x00,0x00,0x33,0xF0,0xE0,0x00,0x00,0x00,
    /*0x2E( 46)*/ 0x00,0x00,0x00,0x33,0x00,0x00,0x33,0x00,0x00,0x03,0x0F,0x0C,0x07,0x0F,0x0E,0x10,0xF0,0x80,0x33,0x09,0xCC,0x13,0xF9,0x8C,0x00,0x00,0x00,
    /*0x2F( 47)*/ 0x00,0x00,0x00,0x33,0x00,0x00,0x33,0x00,0x00,0x03,0x0F,0x0C,0x0F,0x0F,0x0F,0x30,0x00,0x00,0x33,0x00,0x00,0x33,0xF0,0xC0,0x00,0x00,0x00,
    /*0x30( 48)*/ 0x00,0x00,0x00,0x17,0xBF,0x66,0x11,0xBB,0x66,0x11,0xBB,0x6E,0x31,0x6B,0x66,0x63,0xC6,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x00,
    /*0x31( 49)*/ 0x00,0x00,0x00,0x07,0x6E,0x66,0x00,0xC6,0xE6,0x10,0x8C,0x66,0x63,0x00,0x66,0x30,0xF0,0xE0,0x33,0x00,0x66,0x33,0xF0,0xE6,0x00,0x00,0x00,
    /*0x32( 50)*/ 0x00,0x00,0x00,0x67,0x0E,0xCC,0x66,0x00,0xCC,0x66,0x00,0xFC,0x66,0x00,0xCC,0x07,0x0E,0xCC,0x00,0x00,0xCC,0x00,0x00,0xCC,0x00,0x00,0x00,
    /*0x33( 51)*/ 0x00,0x00,0x00,0x33,0x0F,0x0C,0x33,0x00,0x00,0x33,0x00,0x00,0x33,0xF0,0xC0,0x00,0x60,0x00,0xF0,0xF6,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x34( 52)*/ 0x00,0x00,0x00,0x33,0x0F,0x0C,0x33,0x00,0x00,0x33,0x00,0x00,0x33,0xF0,0xC0,0x00,0x00,0x00,0x70,0xF0,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x35( 53)*/ 0x00,0x00,0x00,0x33,0x0F,0x08,0x33,0x00,0x00,0x03,0x6F,0x08,0x0F,0x0F,0x0E,0x10,0x9F,0x80,0x33,0x00,0xCC,0x01,0xF9,0x08,0x00,0x00,0x00,
    /*0x36( 54)*/ 0x00,0x00,0x00,0x07,0x6E,0x66,0x70,0xE6,0x6E,0x66,0x00,0x6E,0x07,0x0F,0x06,0x00,0xF0,0xE0,0x00,0x00,0x66,0x00,0x00,0x46,0x00,0x00,0x00,
    /*0x37( 55)*/ 0x00,0x00,0x00,0x07,0x6E,0xCC,0x70,0xE6,0xCF,0x66,0x00,0xFC,0x07,0x0E,0x0C,0x10,0x9F,0x80,0x33,0x00,0xCC,0x01,0xF9,0x08,0x00,0x00,0x00,
    /*0x38( 56)*/ 0x00,0x00,0x00,0x03,0x0F,0xCC,0x33,0x0F,0x0C,0x03,0x0F,0x0C,0x07,0x0F,0x0E,0x03,0x0F,0xCC,0x33,0x0F,0x0C,0x33,0xF0,0xE0,0x00,0x00,0x00,
    /*0x39( 57)*/ 0x00,0x00,0x00,0x67,0x6E,0x66,0x66,0x66,0x6E,0x66,0x66,0x6E,0x07,0x0E,0x06,0x00,0xC7,0xC8,0x11,0x88,0x66,0x00,0x7C,0x8C,0x00,0x00,0x00,
    /*0x3A( 58)*/ 0x00,0x00,0x00,0x33,0x0F,0xCC,0x33,0x00,0xCC,0x33,0x00,0xCC,0x33,0xF0,0xCC,0x00,0x60,0x00,0x70,0xF6,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x3B( 59)*/ 0x00,0x00,0x00,0x67,0x6E,0x66,0x66,0x66,0x6E,0x66,0x66,0xE6,0x76,0xE6,0x66,0x00,0x00,0x06,0x00,0xCC,0x00,0x00,0xFC,0xE0,0x00,0x00,0x00,
    /*0x3C( 60)*/ 0x00,0x00,0x00,0x67,0x3F,0x66,0x66,0x33,0x66,0x66,0x33,0x66,0x76,0xF3,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x00,
    /*0x3D( 61)*/ 0x00,0x00,0x00,0x67,0x6E,0x66,0x66,0x66,0x66,0x76,0xE6,0x66,0x00,0x00,0x06,0x03,0x0F,0x6E,0x33,0x0F,0x0E,0x33,0xF0,0xE0,0x00,0x00,0x00,
    /*0x3E( 62)*/ 0x00,0x00,0x00,0x66,0x66,0x66,0x76,0xF6,0xE6,0x66,0x66,0x66,0x76,0xE6,0x66,0x00,0x00,0x00,0x33,0x00,0x00,0x33,0xF0,0xE0,0x00,0x00,0x00,
    /*0x3F( 63)*/ 0x00,0x00,0x00,0x66,0x66,0x66,0x76,0xE7,0x6E,0x66,0x76,0xE6,0x76,0xE6,0x66,0x00,0x00,0x00,0x33,0x00,0x00,0x33,0xF0,0xE0,0x00,0x00,0x00,
    /*0x40( 64)*/ 0x00,0x00,0x00,0x66,0x66,0xCC,0x67,0x6E,0xEC,0x66,0x66,0xCC,0x07,0x0E,0x0C,0x17,0x8B,0xCC,0x67,0x08,0xCC,0x76,0x80,0x8C,0x00,0x00,0x00,
    /*0x41( 65)*/ 0x00,0x00,0x00,0x66,0x66,0x66,0x76,0xE6,0x66,0x66,0x66,0x66,0x76,0xE6,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x00,
    /*0x42( 66)*/ 0x00,0x00,0x00,0x11,0x88,0x66,0x31,0xC8,0x66,0x63,0x6C,0x66,0xCE,0x37,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x00,
    /*0x43( 67)*/ 0x00,0x00,0x00,0x11,0x88,0x66,0x33,0xCC,0x66,0x66,0x66,0x66,0x0C,0x03,0x06,0x10,0x80,0x00,0x11,0x88,0x00,0x11,0xF8,0xE0,0x00,0x00,0x00,
    /*0x44( 68)*/ 0x00,0x00,0x00,0x11,0x88,0x66,0x33,0xCD,0x6E,0x66,0x66,0x66,0x04,0x02,0x06,0x10,0xF0,0xE0,0x10,0xF0,0xE6,0x11,0xF8,0xE0,0x00,0x00,0x00,
    /*0x45( 69)*/ 0x00,0x00,0x00,0x00,0x66,0x00,0x00,0xF6,0x00,0x31,0x09,0xC8,0x06,0x00,0x06,0x07,0x6F,0x0E,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x00,0x00,
    /*0x46( 70)*/ 0x00,0x00,0x00,0x11,0x88,0x66,0x31,0xD8,0xE6,0x63,0x6C,0x66,0x46,0x26,0x66,0x00,0x00,0x06,0x33,0x00,0x00,0x33,0xF0,0xE0,0x00,0x00,0x00,
    /*0x47( 71)*/ 0x00,0x00,0x00,0x10,0x80,0x66,0x11,0x88,0x66,0x11,0x88,0x76,0x33,0xCC,0x66,0xC6,0x36,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x00,
    /*0x48( 72)*/ 0x00,0x00,0x00,0x00,0xCC,0x66,0x11,0xEE,0x76,0x33,0x33,0xE6,0x06,0x01,0x0E,0x00,0xC7,0xC8,0x11,0x88,0x66,0x00,0x7C,0x8C,0x00,0x00,0x00,
    /*0x49( 73)*/ 0x00,0x00,0x00,0x10,0x91,0xBB,0x11,0x99,0xBB,0x11,0x9F,0xBB,0x31,0xD9,0xBB,0xC6,0x37,0xBB,0x00,0x11,0xBB,0x00,0x11,0xBB,0x00,0x00,0x00,
    /*0x4A( 74)*/ 0x00,0x00,0x00,0x11,0x99,0xBB,0x31,0xD9,0xFB,0x63,0x7D,0xBB,0x04,0x03,0x0B,0x00,0x0F,0x3F,0x00,0x00,0x33,0x00,0x00,0x23,0x00,0x00,0x00,
    /*0x4B( 75)*/ 0x00,0x00,0x00,0x00,0xCC,0x66,0x11,0xEE,0x76,0x33,0x33,0xE6,0x06,0x01,0x0E,0x00,0xC7,0xC8,0x11,0x88,0x66,0x00,0x7C,0x8C,0x00,0x00,0x00,
    /*0x4C( 76)*/ 0x00,0x00,0x00,0x31,0xEC,0x66,0x66,0x33,0x76,0x36,0x63,0x66,0x01,0x0C,0x06,0x30,0x10,0xEC,0x33,0x10,0x2C,0x33,0xC1,0xCE,0x00,0x00,0x00,
    /*0x4D( 77)*/ 0x00,0x00,0x00,0x10,0xC0,0x66,0x63,0x36,0x66,0x66,0x33,0x66,0x13,0xC6,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x00,
    /*0x4E( 78)*/ 0x00,0x00,0x00,0x31,0xC8,0x66,0x66,0x66,0x66,0x36,0xC6,0x66,0x01,0x08,0x00,0x00,0xCC,0x66,0x00,0xCF,0x6E,0x00,0xFC,0xE6,0x00,0x00,0x00,
    /*0x4F( 79)*/ 0x00,0x00,0x00,0x31,0x6C,0x66,0x66,0x33,0x76,0x36,0x63,0x66,0x01,0x0C,0x06,0x10,0xF0,0xE0,0x11,0x88,0x66,0x11,0xF8,0xE6,0x00,0x00,0x00,
    /*0x50( 80)*/ 0x00,0x00,0x00,0x31,0x6C,0x66,0x66,0x33,0x66,0x36,0x63,0x66,0x01,0x0C,0x66,0x00,0xC0,0x06,0x00,0xCC,0x00,0x00,0xFC,0xE0,0x00,0x00,0x00,
    /*0x51( 81)*/ 0x00,0x00,0x00,0x10,0x9F,0x80,0x33,0x00,0xCC,0x01,0xF9,0x08,0x10,0x90,0x80,0x07,0x0F,0x0E,0x31,0x0F,0xC8,0x13,0xF0,0x8C,0x00,0x00,0x00,
    /*0x52( 82)*/ 0x00,0x00,0x00,0x10,0x9F,0x80,0x33,0x00,0xCC,0x13,0x10,0x8C,0x00,0x0F,0x00,0x10,0x90,0x80,0x71,0xF9,0xE8,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x53( 83)*/ 0x00,0x00,0x00,0x10,0x9F,0x80,0x33,0x00,0xCC,0x01,0xF9,0x08,0x70,0xF0,0xE0,0x30,0xF0,0xC0,0x33,0x00,0xCC,0x33,0xF0,0xCC,0x00,0x00,0x00,
    /*0x54( 84)*/ 0x00,0x00,0x00,0x31,0x6C,0x66,0x66,0x33,0x66,0x36,0x63,0x66,0x01,0x0C,0x66,0x17,0x8F,0x6E,0x11,0x88,0x66,0x11,0x08,0x66,0x00,0x00,0x00,
    /*0x55( 85)*/ 0x00,0x00,0x00,0x31,0x1F,0x80,0x66,0x00,0xCC,0x13,0xF1,0x08,0x00,0x60,0x00,0x0F,0x0F,0x0E,0x66,0x00,0x00,0x76,0xF0,0xC0,0x00,0x00,0x00,
    /*0x56( 86)*/ 0x00,0x00,0x00,0x10,0x80,0x66,0x63,0x6C,0x66,0x66,0x67,0x6E,0x36,0xC6,0x66,0x01,0x08,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x00,
    /*0x57( 87)*/ 0x00,0x00,0x00,0x31,0xC8,0x66,0x66,0x66,0xE6,0x36,0xC6,0x66,0x01,0x08,0x06,0x00,0xC0,0x00,0x00,0xCC,0x00,0x00,0xFC,0xE0,0x00,0x00,0x00,
    /*0x58( 88)*/ 0x00,0x00,0x00,0x31,0xC8,0x66,0x66,0x76,0xE6,0x36,0xC6,0x66,0x01,0x08,0x06,0x10,0xF0,0xE0,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x00,
    /*0x59( 89)*/ 0x00,0x00,0x00,0x21,0x2C,0x66,0x66,0x33,0x66,0x12,0xC2,0x66,0x70,0xF0,0x66,0x00,0xDC,0xE6,0x30,0x0C,0x06,0x33,0xF0,0xE0,0x00,0x00,0x00,
    /*0x5A( 90)*/ 0x00,0x00,0x00,0x10,0x9F,0x80,0x33,0x00,0xCC,0x01,0xF9,0x08,0x70,0xF0,0xE0,0x00,0x66,0x00,0x33,0x0F,0xCC,0x33,0xF0,0xCC,0x00,0x00,0x00,
    /*0x5B( 91)*/ 0x00,0x00,0x00,0xF0,0xF0,0xCC,0x11,0x88,0xCC,0x33,0xCC,0xFC,0x66,0x66,0xCC,0x0C,0x03,0xCC,0x00,0x00,0xCC,0x00,0x00,0xCC,0x00,0x00,0x00,
    /*0x5C( 92)*/ 0x00,0x00,0x00,0x07,0xCF,0x66,0x00,0xCC,0xE6,0x31,0x3E,0x66,0x06,0x01,0x0E,0x01,0x0F,0x6E,0x00,0x00,0x66,0x00,0x00,0x46,0x00,0x00,0x00,
    /*0x5D( 93)*/ 0x00,0x00,0x00,0xF1,0xF9,0xBB,0x11,0x99,0xBB,0x33,0xDD,0xFB,0x66,0x77,0xBB,0x0C,0x13,0xBB,0x00,0x11,0xBB,0x00,0x01,0x3B,0x00,0x00,0x00,
    /*0x5E( 94)*/ 0x00,0x00,0x00,0x70,0xF0,0xE6,0x00,0xCC,0x66,0x00,0xCD,0x6E,0x31,0x3E,0x66,0x06,0x01,0x6E,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x00,
    /*0x5F( 95)*/ 0x00,0x00,0x00,0x70,0xF0,0xE0,0x00,0x66,0x00,0x10,0x9F,0x80,0x63,0x00,0x6C,0x00,0x66,0x00,0xF0,0xF6,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x60( 96)*/ 0x00,0x00,0x00,0x07,0xCF,0x66,0x00,0xCC,0xE6,0x31,0x3E,0x66,0x06,0x01,0x0E,0x00,0x63,0xC8,0x00,0xCC,0x66,0x00,0x36,0x8C,0x00,0x00,0x00,
    /*0x61( 97)*/ 0x00,0x00,0x00,0x03,0x6F,0x0C,0x10,0x9F,0x80,0x03,0x00,0x0C,0x07,0x6F,0x0E,0x10,0xF6,0x80,0x33,0x09,0xCC,0x13,0xF9,0x8C,0x00,0x00,0x00,
    /*0x62( 98)*/ 0x00,0x00,0x00,0x07,0xCF,0x66,0x00,0xCC,0x66,0x11,0xEE,0x66,0x33,0x33,0x66,0x06,0x01,0x6E,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x00,
    /*0x63( 99)*/ 0x00,0x00,0x00,0x07,0xCF,0x66,0x00,0xCC,0x66,0x31,0x3E,0x66,0x06,0x01,0x0E,0x00,0x0F,0x6E,0x00,0x00,0x66,0x00,0x00,0x46,0x00,0x00,0x00,
    /*0x64(100)*/ 0x00,0x00,0x00,0x70,0xFC,0x66,0x00,0xCC,0xE6,0x31,0x3E,0x66,0x06,0x01,0x0E,0x00,0x63,0xC8,0x00,0xCC,0x66,0x00,0x36,0x8C,0x00,0x00,0x00,
    /*0x65(101)*/ 0x00,0x00,0x00,0x00,0xCC,0x66,0x07,0xCF,0x6E,0x00,0xCC,0x66,0x11,0xEE,0x66,0x33,0x33,0x66,0x06,0x01,0x6E,0x00,0x00,0x66,0x00,0x00,0x00,
    /*0x66(102)*/ 0x00,0x00,0x00,0x00,0x66,0x00,0x07,0x6F,0x0E,0x10,0x9F,0x80,0x63,0x00,0x6C,0x00,0x66,0x00,0xF0,0xF6,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x67(103)*/ 0x00,0x00,0x00,0x67,0x1D,0xBB,0x76,0xD1,0xFB,0x66,0x11,0xBB,0x07,0x0D,0x0B,0x00,0xF0,0xF0,0x00,0x00,0x33,0x00,0x00,0x23,0x00,0x00,0x00,
    /*0x68(104)*/ 0x00,0x00,0x00,0x37,0x6F,0x66,0x33,0x66,0x6E,0x33,0x66,0x6E,0x07,0x0F,0x06,0x00,0x63,0xC8,0x00,0xCC,0x66,0x00,0x36,0x8C,0x00,0x00,0x00,
    /*0x69(105)*/ 0x00,0x00,0x00,0x71,0xFC,0x66,0x10,0xC0,0x66,0x63,0x36,0x66,0x36,0x63,0x66,0x01,0x0C,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x00,
    /*0x6A(106)*/ 0x00,0x00,0x00,0x71,0xFC,0x66,0x10,0xC0,0x66,0x63,0x36,0x76,0x36,0x63,0x66,0x01,0x0C,0x06,0x33,0x00,0x00,0x33,0xF0,0xE0,0x00,0x00,0x00,
    /*0x6B(107)*/ 0x00,0x00,0x00,0x71,0xFC,0x66,0x10,0xC0,0x66,0x63,0x36,0x76,0x36,0x63,0x66,0x01,0x0C,0x66,0x00,0x00,0x66,0x00,0x00,0x66,0x00,0x00,0x00,
    /*0x6C(108)*/ 0x00,0x00,0x00,0x71,0xFC,0x66,0x31,0x6C,0x66,0x36,0x63,0x67,0x11,0xCC,0x66,0x07,0x0F,0x0E,0x01,0x0F,0x6E,0x00,0x00,0x66,0x00,0x00,0x04,
    /*0x6D(109)*/ 0x00,0x00,0x00,0x71,0xFC,0x66,0x10,0xC0,0x66,0x63,0x36,0x76,0x36,0x63,0x66,0x01,0x0C,0x66,0x00,0xCC,0x66,0x07,0x0F,0x6E,0x00,0x00,0x00,
    /*0x6E(110)*/ 0x00,0x00,0x00,0x30,0xF6,0xC0,0x00,0xF0,0x00,0x31,0x09,0xC8,0x13,0x90,0x8C,0x00,0x0F,0x00,0x00,0x66,0x00,0x07,0x0F,0x0E,0x00,0x00,0x00,
    /*0x6F(111)*/ 0x00,0x00,0x00,0x71,0xFC,0x66,0x10,0xC0,0xE6,0x63,0x36,0xE6,0x36,0x63,0x66,0x01,0x0C,0x06,0x10,0x8F,0x6C,0x01,0xF8,0xC6,0x00,0x00,0x00,
    /*0x70(112)*/ 0x00,0x00,0x00,0x71,0xFC,0x66,0x63,0x36,0x67,0x36,0x63,0x67,0x01,0x0C,0x46,0x00,0xC7,0xC8,0x11,0x88,0x66,0x00,0x7C,0x8C,0x00,0x00,0x00,
    /*0x71(113)*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x72(114)*/ 0x00,0x10,0xFF,0x00,0x33,0x08,0x00,0x33,0x00,0x00,0x33,0x00,0x00,0x73,0xF0,0x00,0xFF,0xCF,0x00,0xFF,0xC8,0x00,0xFF,0xFC,0x00,0xFF,0xFF,
    /*0x73(115)*/ 0xEC,0x00,0x00,0x37,0x00,0x00,0x33,0x00,0x00,0x33,0x00,0x00,0xF3,0x80,0x00,0xFF,0xCC,0x00,0xF7,0xCC,0x00,0xFF,0xCC,0x00,0xFF,0xCC,0x00,
    /*0x74(116)*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0xF0,0x00,0xFF,0xCF,0x00,0xFF,0xC8,0x00,0xFF,0xFC,0x00,0xFF,0xFF,
    /*0x75(117)*/ 0x10,0xFF,0xEC,0x33,0x08,0x37,0x33,0x00,0x33,0x33,0x00,0x03,0xF3,0x80,0x00,0xFF,0xCC,0x00,0xF7,0xCC,0x00,0xFF,0xCC,0x00,0xFF,0xCC,0x00,
    /*0x76(118)*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,
    /*0x77(119)*/ 0x00,0x00,0x73,0x00,0x00,0xE7,0x00,0x11,0xCC,0x00,0x33,0x88,0x00,0xE7,0x00,0x10,0xCE,0x00,0x33,0x88,0x00,0xE7,0x00,0x00,0xCE,0x00,0x00,
    /*0x78(120)*/ 0x00,0x00,0x33,0x00,0x00,0xE7,0x00,0x10,0xCE,0x00,0x33,0x88,0x00,0xE7,0x00,0x10,0xCE,0x00,0x33,0x88,0x00,0x77,0x00,0x00,0xCE,0x00,0x00,
    /*0x79(121)*/ 0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x7A(122)*/ 0xEC,0x00,0x00,0x77,0x00,0x00,0x33,0x88,0x00,0x01,0xEC,0x00,0x00,0x7E,0x00,0x00,0x33,0x88,0x00,0x01,0xEC,0x00,0x00,0x7E,0x00,0x00,0x33,
    /*0x7B(123)*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,
    /*0x7C(124)*/ 0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x7D(125)*/ 0xCC,0x00,0x00,0x7E,0x00,0x00,0x37,0x80,0x00,0x11,0xCC,0x00,0x00,0x7E,0x00,0x00,0x37,0x80,0x00,0x11,0xCC,0x00,0x00,0xEE,0x00,0x00,0x37,
    /*0x7E(126)*/ 0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x7F(127)*/ 0x77,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x80(128)*/ 0x00,0x77,0xFF,0x00,0xC6,0x00,0x00,0xCC,0x00,0x11,0x88,0x00,0x31,0x08,0x00,0x33,0x00,0x00,0x66,0x00,0x00,0xC6,0x00,0x00,0xCC,0x00,0x00,
    /*0x81(129)*/ 0xFF,0xEE,0x00,0x00,0x36,0x00,0x00,0x33,0x00,0x00,0x11,0x88,0x00,0x01,0xC8,0x00,0x00,0xCC,0x00,0x00,0x66,0x00,0x00,0x36,0x00,0x00,0x33,
    /*0x82(130)*/ 0x00,0x00,0x11,0x00,0x00,0x31,0x00,0x00,0x33,0x00,0x00,0x66,0x00,0x00,0xC6,0x00,0x00,0xCC,0x00,0x11,0x88,0x00,0x31,0x08,0x00,0x33,0x00,
    /*0x83(131)*/ 0x00,0x66,0x00,0x00,0xC6,0x00,0x00,0xCC,0x00,0x11,0x88,0x00,0x31,0x08,0x00,0x33,0x00,0x00,0x66,0x00,0x00,0xC6,0x00,0x00,0xCC,0x00,0x00,
    /*0x84(132)*/ 0x88,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /*0x85(133)*/ 0x88,0x00,0x00,0xC8,0x00,0x00,0xCC,0x00,0x00,0x66,0x00,0x00,0x36,0x00,0x00,0x33,0x00,0x00,0x11,0x88,0x00,0x01,0xC8,0x00,0x00,0xCC,0x00,
    /*0x86(134)*/ 0x00,0x66,0x00,0x00,0x36,0x00,0x00,0x33,0x00,0x00,0x11,0x88,0x00,0x01,0xC8,0x00,0x00,0xCC,0x00,0x00,0x66,0x00,0x00,0x36,0x00,0x00,0x33,
    /*0x87(135)*/ 0x00,0x00,0x11,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

};

void Print_Used_Clock(DWORD _UsedClock)
{
	DWORD UsedClock;
	BYTE hour,min,sec,ms;

	UsedClock = _UsedClock;
	ms = (BYTE)(UsedClock%100);
	UsedClock = UsedClock/100;
	if(UsedClock==0) {
		sec = 0;
		min = 0;
		hour = 0;
	}
	else {
		sec = (BYTE)(UsedClock % 60);
		UsedClock = UsedClock / 60;
		if(UsedClock==0) {
			min = 0;
			hour = 0;
		}
		else {
			min = (BYTE)(UsedClock%60);
			hour = UsedClock / 60;
		}
	}
	Printf("\n\rUsedClock %bd:%02bd:%02bd.%02bd", hour,min,sec ,ms);
}

//note: I2C function shall be block SFR_EA, you can not use SystemClock.
//to test,
//	access 0
//	fosd dnfont 0
//	fsod fontd
//	fosd test5
#if defined(SUPPORT_I2C_MASTER)
void FOsdTest_5(BYTE start)
{
	DWORD StartClock, UsedClock;
	BYTE bTemp;
	WORD i;



	//disable AINC
	WriteI2CByte(0x8A, 0xFF, 0);
	bTemp = ReadI2CByte(0x8A, 0x06);
	WriteI2CByte(0x8A, 0x06, bTemp | 0x20);

	//select FontRAM
	WriteI2CByte(0x8A, 0xFF, 3);
	bTemp = ReadI2CByte(0x8A, 0x04);		
	WriteI2CByte(0x8A, 0x04, bTemp | 0x01);

	//set FontRAM address as 0
	bTemp = ReadI2CByte(0x8A, 0x04);		
	WriteI2CByte(0x8A, 0x04, bTemp & ~0x20);
	WriteI2CByte(0x8A, 0x09, start);

	SFRB_ET0 = 0;
	StartClock = SystemClock;
	SFRB_ET0 = 1;

	//write data
	WriteI2CS(0x8A,0x0A, FOsdTest_5_data_88h_27 ,0x88*27); 
	

	SFRB_ET0 = 0;
	UsedClock = SystemClock;
	SFRB_ET0 = 1;
	UsedClock -= StartClock;
	Print_Used_Clock(StartClock);
	Print_Used_Clock(UsedClock);
	
	//set FontRAM address as 0
	bTemp = ReadI2CByte(0x8A, 0x04);		
	WriteI2CByte(0x8A, 0x04, bTemp & ~0x20);
	WriteI2CByte(0x8A, 0x09, start+1);

	SFRB_ET0 = 0;
	StartClock = SystemClock;
	SFRB_ET0 = 1;

	//write data
	for(i=0; i < 0x88*27; i++)
		WriteI2CByte(0x8A, 0x0A, FOsdTest_5_data_88h_27[i]); 
						 
	SFRB_ET0=0;
	UsedClock = SystemClock;
	SFRB_ET0=1;
	UsedClock -= StartClock;
	Print_Used_Clock(StartClock);
	Print_Used_Clock(UsedClock);


	//restore RAM access mode
	bTemp = ReadI2CByte(0x8A, 0x04);		
	WriteI2CByte(0x8A, 0x04, bTemp & ~0x01);

	//restore AINC
	WriteI2CByte(0x8A, 0xFF, 0);
	bTemp = ReadI2CByte(0x8A, 0x06);
	WriteI2CByte(0x8A, 0x06, bTemp & ~0x20);
}
#endif	
